{"ast":null,"code":"import { __rest } from 'tslib';\nimport * as React from 'react';\nimport { forwardRef, useContext, useRef, useLayoutEffect } from 'react';\nimport { MotionContext, MotionConfigContext, useForceUpdate, useIsomorphicLayoutEffect, clamp } from 'framer-motion';\nimport { mergeRefs } from 'react-merge-refs';\nimport { createRoot, events, unmountComponentAtNode } from '@react-three/fiber';\nimport { MotionCanvasContext } from './MotionCanvasContext.mjs';\nconst devicePixelRatio = typeof window !== \"undefined\" ? window.devicePixelRatio : 1;\nconst calculateDpr = dpr => Array.isArray(dpr) ? clamp(dpr[0], dpr[1], devicePixelRatio) : dpr || devicePixelRatio;\n/**\n * This file contains a version of R3F's Canvas component that uses our projection\n * system for layout measurements instead of use-react-measure so we can keep the\n * projection and cameras in sync.\n *\n * https://github.com/pmndrs/react-three-fiber/blob/master/packages/fiber/src/web/Canvas.tsx\n */\nfunction Block(_ref) {\n  let {\n    set\n  } = _ref;\n  useIsomorphicLayoutEffect(() => {\n    set(new Promise(() => null));\n    return () => set(false);\n  }, []);\n  return null;\n}\nclass ErrorBoundary extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      error: false\n    };\n  }\n  componentDidCatch(error) {\n    this.props.set(error);\n  }\n  render() {\n    return this.state.error ? null : this.props.children;\n  }\n}\nErrorBoundary.getDerivedStateFromError = () => ({\n  error: true\n});\nfunction CanvasComponent(_a, forwardedRef) {\n  var {\n      children,\n      fallback,\n      tabIndex,\n      id,\n      style,\n      className,\n      events: events$1\n    } = _a,\n    props = __rest(_a, [\"children\", \"fallback\", \"tabIndex\", \"id\", \"style\", \"className\", \"events\"]);\n  /**\n   * Import existing contexts to pass through variants and MotionConfig from\n   * the DOM to the 3D tree. Shared variants aren't officially supported yet\n   * because the parent DOM tree fires effects before the 3D tree, whereas\n   * variants are expected to run from bottom-up in useEffect.\n   */\n  const motionContext = useContext(MotionContext);\n  const configContext = useContext(MotionConfigContext);\n  const [forceRender] = useForceUpdate();\n  const layoutCamera = useRef(null);\n  const dimensions = useRef({\n    size: {\n      width: 0,\n      height: 0\n    }\n  });\n  const {\n    size,\n    dpr\n  } = dimensions.current;\n  const containerRef = useRef(null);\n  const handleResize = () => {\n    const container = containerRef.current;\n    dimensions.current = {\n      size: {\n        width: container.offsetWidth,\n        height: container.offsetHeight\n      }\n    };\n    forceRender();\n  };\n  // Set canvas size on mount\n  useLayoutEffect(handleResize, []);\n  const canvasRef = React.useRef(null);\n  const [block, setBlock] = React.useState(false);\n  const [error, setError] = React.useState(false);\n  // Suspend this component if block is a promise (2nd run)\n  if (block) throw block;\n  // Throw exception outwards if anything within canvas throws\n  if (error) throw error;\n  const root = useRef();\n  if (size.width > 0 && size.height > 0) {\n    if (!root.current) {\n      root.current = createRoot(canvasRef.current);\n    }\n    root.current.configure(Object.assign(Object.assign({}, props), {\n      dpr: dpr || props.dpr,\n      size: Object.assign(Object.assign({}, size), {\n        top: 0,\n        left: 0\n      }),\n      events: events$1 || events\n    })).render(React.createElement(ErrorBoundary, {\n      set: setError\n    }, React.createElement(React.Suspense, {\n      fallback: React.createElement(Block, {\n        set: setBlock\n      })\n    }, React.createElement(MotionCanvasContext.Provider, {\n      value: {\n        dimensions,\n        layoutCamera,\n        requestedDpr: calculateDpr(props.dpr)\n      }\n    }, React.createElement(MotionConfigContext.Provider, {\n      value: configContext\n    }, React.createElement(MotionContext.Provider, {\n      value: motionContext\n    }, children))))));\n  }\n  useIsomorphicLayoutEffect(() => {\n    const container = canvasRef.current;\n    return () => unmountComponentAtNode(container);\n  }, []);\n  return React.createElement(\"div\", {\n    ref: containerRef,\n    id: id,\n    className: className,\n    tabIndex: tabIndex,\n    style: Object.assign({\n      position: \"relative\",\n      width: \"100%\",\n      height: \"100%\",\n      overflow: \"hidden\"\n    }, style)\n  }, React.createElement(\"canvas\", {\n    ref: mergeRefs([canvasRef, forwardedRef]),\n    style: {\n      display: \"block\"\n    }\n  }, fallback));\n}\nconst MotionCanvas = forwardRef(CanvasComponent);\nexport { MotionCanvas };","map":{"version":3,"names":["__rest","React","forwardRef","useContext","useRef","useLayoutEffect","MotionContext","MotionConfigContext","useForceUpdate","useIsomorphicLayoutEffect","clamp","mergeRefs","createRoot","events","unmountComponentAtNode","MotionCanvasContext","devicePixelRatio","window","calculateDpr","dpr","Array","isArray","Block","set","Promise","ErrorBoundary","Component","constructor","arguments","state","error","componentDidCatch","props","render","children","getDerivedStateFromError","CanvasComponent","_a","forwardedRef","fallback","tabIndex","id","style","className","events$1","motionContext","configContext","forceRender","layoutCamera","dimensions","size","width","height","current","containerRef","handleResize","container","offsetWidth","offsetHeight","canvasRef","block","setBlock","useState","setError","root","configure","Object","assign","top","left","createElement","Suspense","Provider","value","requestedDpr","ref","position","overflow","display","MotionCanvas"],"sources":["/app/node_modules/framer-motion-3d/dist/es/components/MotionCanvas.mjs"],"sourcesContent":["import { __rest } from 'tslib';\nimport * as React from 'react';\nimport { forwardRef, useContext, useRef, useLayoutEffect } from 'react';\nimport { MotionContext, MotionConfigContext, useForceUpdate, useIsomorphicLayoutEffect, clamp } from 'framer-motion';\nimport { mergeRefs } from 'react-merge-refs';\nimport { createRoot, events, unmountComponentAtNode } from '@react-three/fiber';\nimport { MotionCanvasContext } from './MotionCanvasContext.mjs';\n\nconst devicePixelRatio = typeof window !== \"undefined\" ? window.devicePixelRatio : 1;\nconst calculateDpr = (dpr) => Array.isArray(dpr)\n    ? clamp(dpr[0], dpr[1], devicePixelRatio)\n    : dpr || devicePixelRatio;\n/**\n * This file contains a version of R3F's Canvas component that uses our projection\n * system for layout measurements instead of use-react-measure so we can keep the\n * projection and cameras in sync.\n *\n * https://github.com/pmndrs/react-three-fiber/blob/master/packages/fiber/src/web/Canvas.tsx\n */\nfunction Block({ set }) {\n    useIsomorphicLayoutEffect(() => {\n        set(new Promise(() => null));\n        return () => set(false);\n    }, []);\n    return null;\n}\nclass ErrorBoundary extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = { error: false };\n    }\n    componentDidCatch(error) {\n        this.props.set(error);\n    }\n    render() {\n        return this.state.error ? null : this.props.children;\n    }\n}\nErrorBoundary.getDerivedStateFromError = () => ({ error: true });\nfunction CanvasComponent(_a, forwardedRef) {\n    var { children, fallback, tabIndex, id, style, className, events: events$1 } = _a, props = __rest(_a, [\"children\", \"fallback\", \"tabIndex\", \"id\", \"style\", \"className\", \"events\"]);\n    /**\n     * Import existing contexts to pass through variants and MotionConfig from\n     * the DOM to the 3D tree. Shared variants aren't officially supported yet\n     * because the parent DOM tree fires effects before the 3D tree, whereas\n     * variants are expected to run from bottom-up in useEffect.\n     */\n    const motionContext = useContext(MotionContext);\n    const configContext = useContext(MotionConfigContext);\n    const [forceRender] = useForceUpdate();\n    const layoutCamera = useRef(null);\n    const dimensions = useRef({\n        size: { width: 0, height: 0 },\n    });\n    const { size, dpr } = dimensions.current;\n    const containerRef = useRef(null);\n    const handleResize = () => {\n        const container = containerRef.current;\n        dimensions.current = {\n            size: {\n                width: container.offsetWidth,\n                height: container.offsetHeight,\n            },\n        };\n        forceRender();\n    };\n    // Set canvas size on mount\n    useLayoutEffect(handleResize, []);\n    const canvasRef = React.useRef(null);\n    const [block, setBlock] = React.useState(false);\n    const [error, setError] = React.useState(false);\n    // Suspend this component if block is a promise (2nd run)\n    if (block)\n        throw block;\n    // Throw exception outwards if anything within canvas throws\n    if (error)\n        throw error;\n    const root = useRef();\n    if (size.width > 0 && size.height > 0) {\n        if (!root.current) {\n            root.current = createRoot(canvasRef.current);\n        }\n        root.current.configure(Object.assign(Object.assign({}, props), { dpr: dpr || props.dpr, size: Object.assign(Object.assign({}, size), { top: 0, left: 0 }), events: events$1 || events })).render(React.createElement(ErrorBoundary, { set: setError },\n            React.createElement(React.Suspense, { fallback: React.createElement(Block, { set: setBlock }) },\n                React.createElement(MotionCanvasContext.Provider, { value: {\n                        dimensions,\n                        layoutCamera,\n                        requestedDpr: calculateDpr(props.dpr),\n                    } },\n                    React.createElement(MotionConfigContext.Provider, { value: configContext },\n                        React.createElement(MotionContext.Provider, { value: motionContext }, children))))));\n    }\n    useIsomorphicLayoutEffect(() => {\n        const container = canvasRef.current;\n        return () => unmountComponentAtNode(container);\n    }, []);\n    return (React.createElement(\"div\", { ref: containerRef, id: id, className: className, tabIndex: tabIndex, style: Object.assign({ position: \"relative\", width: \"100%\", height: \"100%\", overflow: \"hidden\" }, style) },\n        React.createElement(\"canvas\", { ref: mergeRefs([canvasRef, forwardedRef]), style: { display: \"block\" } }, fallback)));\n}\nconst MotionCanvas = forwardRef(CanvasComponent);\n\nexport { MotionCanvas };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}